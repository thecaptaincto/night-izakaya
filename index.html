<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Ê°úÂ±ÖÈÖíÂ±ã ¬∑ Sakura Izakaya</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Zen+Old+Mincho:wght@400;500;600;700;900&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Zen+Kaku+Gothic+New:wght@300;400;500&display=swap"
    rel="stylesheet">
  <style>
    :root {
      --washi: #faf6f0;
      --washi-deep: #f3ece0;
      --washi-dark: #ede3d3;
      --ink: #1c1410;
      --ink-soft: #3a2e26;
      --ink-muted: #7a6a5a;
      --ink-ghost: #b0a090;
      --sakura-pale: #fce8ee;
      --sakura-light: #f5c8d4;
      --sakura-mid: #e8a0b4;
      --sakura-deep: #c4607a;
      --sakura-rich: #9e3050;
      --plum: #6e3050;
      --moss: #5a6e50;
      --moss-light: #a8b89a;
      --gold: #c8a040;
      --gold-pale: #e8d090;
      --border: rgba(28, 20, 16, 0.1);
      --border-soft: rgba(28, 20, 16, 0.06);
      --shadow-sm: 0 2px 12px rgba(28, 20, 16, 0.06);
      --shadow-md: 0 8px 32px rgba(28, 20, 16, 0.1);
      --shadow-lg: 0 20px 60px rgba(28, 20, 16, 0.14);
      --r: 3px;
      --r-lg: 8px;
      --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
      --ease-out: cubic-bezier(0.22, 1, 0.36, 1)
    }

    *,
    *::before,
    *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box
    }

    html {
      scroll-behavior: smooth;
      font-size: 16px
    }

    body {
      font-family: 'Libre Baskerville', Georgia, serif;
      background: var(--washi);
      color: var(--ink);
      overflow-x: hidden;
      min-height: 100vh;
      position: relative
    }

    body::after {
      content: '';
      position: fixed;
      inset: 0;
      z-index: 0;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cfilter id='paper'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23paper)' opacity='0.04'/%3E%3C/svg%3E");
      pointer-events: none;
      opacity: 0.6
    }

    #petal-canvas {
      position: fixed;
      inset: 0;
      z-index: 1;
      pointer-events: none
    }

    .site-wrap {
      position: relative;
      z-index: 2
    }

    .container {
      max-width: 1140px;
      margin: 0 auto;
      padding: 0 32px
    }

    .nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 200;
      padding: 0 32px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 64px;
      background: rgba(250, 246, 240, 0.88);
      backdrop-filter: blur(16px) saturate(1.4);
      border-bottom: 1px solid var(--border-soft);
      transition: box-shadow 0.3s
    }

    .nav.scrolled {
      box-shadow: var(--shadow-sm)
    }

    .nav-logo {
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none
    }

    .nav-logo-kana {
      font-family: 'Zen Old Mincho', serif;
      font-size: 20px;
      font-weight: 700;
      color: var(--sakura-rich);
      letter-spacing: 0.08em
    }

    .nav-logo-dot {
      width: 6px;
      height: 6px;
      background: var(--sakura-mid);
      border-radius: 50%
    }

    .nav-logo-en {
      font-family: 'Libre Baskerville', serif;
      font-size: 11px;
      font-style: italic;
      color: var(--ink-muted);
      letter-spacing: 0.12em
    }

    .nav-links {
      display: flex;
      align-items: center;
      gap: 2px;
      list-style: none
    }

    .nav-links a {
      padding: 8px 14px;
      font-family: 'Zen Kaku Gothic New', sans-serif;
      font-size: 11.5px;
      font-weight: 400;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      color: var(--ink-muted);
      text-decoration: none;
      border-radius: var(--r);
      transition: color 0.2s, background 0.2s
    }

    .nav-links a:hover {
      color: var(--sakura-rich);
      background: var(--sakura-pale)
    }

    .nav-right {
      display: flex;
      align-items: center;
      gap: 12px
    }

    .nav-cart {
      display: flex;
      align-items: center;
      gap: 7px;
      padding: 8px 18px;
      background: var(--ink);
      color: var(--washi);
      border: none;
      border-radius: 40px;
      font-family: 'Zen Kaku Gothic New', sans-serif;
      font-size: 11.5px;
      letter-spacing: 0.12em;
      cursor: pointer;
      transition: background 0.2s, transform 0.15s var(--ease-spring)
    }

    .nav-cart:hover {
      background: var(--sakura-rich);
      transform: scale(1.03)
    }

    .nav-cart-badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 18px;
      height: 18px;
      background: var(--sakura-mid);
      border-radius: 50%;
      font-size: 10px;
      color: var(--ink);
      font-weight: 700
    }

    @media (max-width:768px) {
      .nav-links {
        display: none
      }

      .container {
        padding: 0 20px
      }
    }

    .hero {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
      padding: 100px 32px 80px
    }

    .hero::before {
      content: '';
      position: absolute;
      inset: 0;
      background: radial-gradient(ellipse 90% 70% at 50% 0%, #f9eef4 0%, transparent 65%), radial-gradient(ellipse 60% 50% at 10% 60%, #f4ece0 0%, transparent 60%), radial-gradient(ellipse 50% 60% at 90% 40%, #fde8ef 0%, transparent 55%), linear-gradient(170deg, #fdf8f2 0%, #faeef4 35%, #f6f0e8 65%, #faf6f0 100%);
      z-index: 0
    }

    .hero-branch {
      position: absolute;
      top: 0;
      right: -60px;
      width: 55%;
      max-width: 720px;
      opacity: 0.18;
      z-index: 0;
      pointer-events: none;
      transform-origin: top right;
      animation: branchSway 8s ease-in-out infinite
    }

    @keyframes branchSway {

      0%,
      100% {
        transform: rotate(0deg) translateY(0)
      }

      40% {
        transform: rotate(1.5deg) translateY(-8px)
      }

      70% {
        transform: rotate(-0.8deg) translateY(4px)
      }
    }

    .hero-branch-left {
      position: absolute;
      bottom: -20px;
      left: -40px;
      width: 35%;
      max-width: 400px;
      opacity: 0.1;
      z-index: 0;
      pointer-events: none;
      transform: scaleX(-1) rotate(-15deg);
      animation: branchSway 10s ease-in-out infinite reverse
    }

    .hero-content {
      position: relative;
      z-index: 1;
      text-align: center;
      max-width: 760px
    }

    .hero-eyebrow {
      font-family: 'Zen Kaku Gothic New', sans-serif;
      font-size: 11px;
      letter-spacing: 0.5em;
      text-transform: uppercase;
      color: var(--sakura-mid);
      margin-bottom: 20px;
      opacity: 0;
      animation: fadeUp 0.8s var(--ease-out) 0.2s forwards
    }

    .hero-kana {
      font-family: 'Zen Old Mincho', serif;
      font-size: clamp(64px, 11vw, 128px);
      font-weight: 900;
      line-height: 0.95;
      letter-spacing: -0.01em;
      background: linear-gradient(135deg, var(--ink) 0%, #3a2030 30%, var(--sakura-rich) 55%, var(--sakura-mid) 75%, var(--sakura-light) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 12px;
      opacity: 0;
      animation: fadeUp 0.9s var(--ease-out) 0.35s forwards
    }

    .hero-title-en {
      font-family: 'Libre Baskerville', serif;
      font-style: italic;
      font-size: clamp(16px, 2.8vw, 26px);
      font-weight: 400;
      color: var(--ink-soft);
      letter-spacing: 0.08em;
      margin-bottom: 24px;
      opacity: 0;
      animation: fadeUp 0.8s var(--ease-out) 0.5s forwards
    }

    .hero-divider {
      display: flex;
      align-items: center;
      gap: 16px;
      justify-content: center;
      margin: 24px auto 28px;
      opacity: 0;
      animation: fadeUp 0.8s var(--ease-out) 0.65s forwards
    }

    .hero-divider-line {
      width: 80px;
      height: 1px;
      background: linear-gradient(to right, transparent, var(--sakura-mid))
    }

    .hero-divider-line:last-child {
      background: linear-gradient(to left, transparent, var(--sakura-mid))
    }

    .hero-divider-blossom {
      font-size: 18px;
      filter: drop-shadow(0 2px 6px rgba(200, 96, 120, 0.3))
    }

    .hero-tagline {
      font-family: 'Libre Baskerville', serif;
      font-size: 15px;
      line-height: 1.9;
      color: var(--ink-muted);
      max-width: 420px;
      margin: 0 auto 40px;
      opacity: 0;
      animation: fadeUp 0.8s var(--ease-out) 0.75s forwards
    }

    .hero-actions {
      display: flex;
      gap: 14px;
      flex-wrap: wrap;
      justify-content: center;
      opacity: 0;
      animation: fadeUp 0.8s var(--ease-out) 0.9s forwards
    }

    .hero-vert {
      position: absolute;
      font-family: 'Zen Old Mincho', serif;
      font-size: 11px;
      letter-spacing: 0.5em;
      color: var(--sakura-mid);
      writing-mode: vertical-rl;
      opacity: 0.45;
      z-index: 1;
      animation: fadeIn 1.5s ease 1.2s both
    }

    .hero-vert-left {
      left: 48px;
      top: 50%;
      transform: translateY(-50%)
    }

    .hero-vert-right {
      right: 48px;
      top: 50%;
      transform: translateY(-50%)
    }

    @keyframes fadeUp {
      from {
        opacity: 0;
        transform: translateY(24px)
      }

      to {
        opacity: 1;
        transform: translateY(0)
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0
      }

      to {
        opacity: 0.45
      }
    }

    .scroll-hint {
      position: absolute;
      bottom: 36px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      font-family: 'Zen Kaku Gothic New', sans-serif;
      font-size: 9px;
      letter-spacing: 0.4em;
      text-transform: uppercase;
      color: var(--ink-ghost);
      opacity: 0;
      animation: fadeIn 1s ease 1.5s forwards;
      z-index: 1
    }

    .scroll-hint-line {
      width: 1px;
      height: 40px;
      background: linear-gradient(to bottom, var(--sakura-light), transparent);
      animation: scrollPulse 2s ease-in-out infinite
    }

    @keyframes scrollPulse {

      0%,
      100% {
        opacity: 1;
        transform: scaleY(1)
      }

      50% {
        opacity: 0.4;
        transform: scaleY(0.6)
      }
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 13px 30px;
      border-radius: 40px;
      border: none;
      cursor: pointer;
      font-family: 'Zen Kaku Gothic New', sans-serif;
      font-size: 12px;
      font-weight: 500;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      text-decoration: none;
      transition: all 0.22s var(--ease-out);
      white-space: nowrap
    }

    .btn-primary {
      background: var(--ink);
      color: var(--washi)
    }

    .btn-primary:hover {
      background: var(--sakura-rich);
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(158, 48, 80, 0.25)
    }

    .btn-outline {
      background: transparent;
      color: var(--ink);
      border: 1.5px solid var(--border)
    }

    .btn-outline:hover {
      border-color: var(--sakura-mid);
      color: var(--sakura-rich);
      background: var(--sakura-pale)
    }

    .btn-sakura {
      background: linear-gradient(135deg, var(--sakura-light), var(--sakura-mid));
      color: var(--ink)
    }

    .btn-sakura:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(196, 96, 122, 0.3)
    }

    .btn-ghost {
      background: transparent;
      color: var(--ink-muted);
      border: 1px solid transparent
    }

    .btn-ghost:hover {
      color: var(--sakura-rich);
      background: var(--sakura-pale)
    }

    .btn-sm {
      padding: 8px 18px;
      font-size: 10.5px
    }

    .btn-danger {
      background: transparent;
      color: #b04040;
      border: 1px solid rgba(176, 64, 64, 0.25)
    }

    .btn-danger:hover {
      background: rgba(176, 64, 64, 0.08)
    }

    .section {
      padding: 100px 0
    }

    .section+.section {
      border-top: 1px solid var(--border-soft)
    }

    .section-header {
      margin-bottom: 56px
    }

    .section-label {
      font-family: 'Zen Kaku Gothic New', sans-serif;
      font-size: 10px;
      letter-spacing: 0.55em;
      text-transform: uppercase;
      color: var(--sakura-mid);
      margin-bottom: 14px;
      display: flex;
      align-items: center;
      gap: 12px
    }

    .section-label::before {
      content: '';
      display: inline-block;
      width: 24px;
      height: 1px;
      background: var(--sakura-mid)
    }

    .section-title {
      font-family: 'Zen Old Mincho', serif;
      font-size: clamp(28px, 4.5vw, 48px);
      font-weight: 700;
      color: var(--ink);
      line-height: 1.15;
      letter-spacing: 0.01em
    }

    .section-title em {
      font-style: italic;
      color: var(--sakura-rich)
    }

    .section-kana {
      font-family: 'Zen Old Mincho', serif;
      font-size: 11px;
      color: var(--ink-ghost);
      letter-spacing: 0.4em;
      margin-top: 6px
    }

    .user-bar {
      background: linear-gradient(135deg, var(--sakura-pale) 0%, var(--washi-deep) 100%);
      border: 1px solid var(--sakura-light);
      border-radius: var(--r-lg);
      padding: 14px 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 12px;
      margin: 24px 0
    }

    .user-bar-left {
      display: flex;
      align-items: center;
      gap: 10px;
      font-family: 'Zen Kaku Gothic New', sans-serif;
      font-size: 13px;
      color: var(--ink-soft)
    }

    .user-bar-avatar {
      width: 32px;
      height: 32px;
      background: linear-gradient(135deg, var(--sakura-light), var(--sakura-mid));
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      flex-shrink: 0
    }

    .user-bar-name {
      font-weight: 500;
      color: var(--ink)
    }

    .user-bar-tag {
      font-size: 10px;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      background: var(--sakura-pale);
      border: 1px solid var(--sakura-light);
      color: var(--sakura-rich);
      padding: 2px 8px;
      border-radius: 20px
    }

    .user-bar-actions {
      display: flex;
      gap: 8px;
      flex-wrap: wrap
    }

    .menu-tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 40px;
      padding-bottom: 20px;
      border-bottom: 1px solid var(--border-soft)
    }

    .menu-tab {
      padding: 9px 22px;
      border: 1.5px solid var(--border);
      background: transparent;
      border-radius: 40px;
      font-family: 'Zen Kaku Gothic New', sans-serif;
      font-size: 11px;
      font-weight: 500;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--ink-muted);
      cursor: pointer;
      transition: all 0.2s
    }

    .menu-tab:hover {
      color: var(--sakura-rich);
      border-color: var(--sakura-light)
    }

    .menu-tab.active {
      background: var(--ink);
      border-color: var(--ink);
      color: var(--washi)
    }

    .menu-panel {
      display: none
    }

    .menu-panel.active {
      display: block
    }

    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(270px, 1fr));
      gap: 18px
    }

    .menu-card {
      background: #fff;
      border: 1px solid var(--border-soft);
      border-radius: var(--r-lg);
      padding: 24px;
      position: relative;
      overflow: hidden;
      transition: transform 0.25s var(--ease-spring), box-shadow 0.25s;
      cursor: default
    }

    .menu-card::before {
      content: 'üå∏';
      position: absolute;
      bottom: -20px;
      right: -10px;
      font-size: 72px;
      opacity: 0;
      transform: rotate(15deg) scale(0.8);
      transition: opacity 0.3s, transform 0.35s var(--ease-spring);
      pointer-events: none;
      filter: saturate(0.3) brightness(1.1)
    }

    .menu-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-md)
    }

    .menu-card:hover::before {
      opacity: 0.12;
      transform: rotate(15deg) scale(1)
    }

    .menu-card-top {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 12px
    }

    .menu-card-emoji {
      font-size: 30px;
      filter: drop-shadow(0 2px 6px rgba(0, 0, 0, 0.1))
    }

    .menu-card-price {
      font-family: 'Zen Old Mincho', serif;
      font-size: 17px;
      font-weight: 700;
      color: var(--sakura-rich)
    }

    .menu-card-price small {
      font-size: 10px;
      font-family: 'Zen Kaku Gothic New', sans-serif;
      letter-spacing: 0.1em;
      color: var(--ink-ghost);
      font-weight: 400
    }

    .menu-card-name {
      font-family: 'Zen Old Mincho', serif;
      font-size: 15px;
      font-weight: 600;
      color: var(--ink);
      margin-bottom: 7px;
      line-height: 1.4
    }

    .menu-card-desc {
      font-size: 12.5px;
      line-height: 1.75;
      color: var(--ink-muted);
      font-style: italic;
      margin-bottom: 18px
    }

    .menu-card-footer {
      display: flex;
      align-items: center;
      justify-content: flex-end;
      gap: 8px
    }

    .alcoholic-tag {
      font-family: 'Zen Kaku Gothic New', sans-serif;
      font-size: 9px;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      background: #fce8e0;
      border: 1px solid #f0c0a0;
      color: #b06040;
      padding: 3px 8px;
      border-radius: 20px;
      flex: 1
    }

    .deals-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 18px
    }

    .deal-card {
      background: linear-gradient(145deg, #fff 0%, var(--sakura-pale) 100%);
      border: 1px solid var(--sakura-light);
      border-radius: var(--r-lg);
      padding: 28px;
      position: relative;
      overflow: hidden;
      transition: transform 0.25s var(--ease-spring), box-shadow 0.25s
    }

    .deal-card::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(to right, var(--sakura-light), var(--sakura-mid), var(--sakura-light));
      opacity: 0;
      transition: opacity 0.25s
    }

    .deal-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-md)
    }

    .deal-card:hover::after {
      opacity: 1
    }

    .deal-badge {
      display: inline-block;
      font-family: 'Zen Kaku Gothic New', sans-serif;
      font-size: 9px;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      background: var(--ink);
      color: var(--washi);
      padding: 4px 12px;
      border-radius: 20px;
      margin-bottom: 14px
    }

    .deal-title {
      font-family: 'Zen Old Mincho', serif;
      font-size: 16px;
      font-weight: 600;
      color: var(--ink);
      margin-bottom: 8px
    }

    .deal-desc {
      font-size: 13px;
      line-height: 1.75;
      color: var(--ink-muted);
      font-style: italic;
      margin-bottom: 20px
    }

    .order-card {
      background: #fff;
      border: 1px solid var(--border-soft);
      border-radius: var(--r-lg);
      padding: 22px 26px;
      margin-bottom: 14px;
      transition: box-shadow 0.2s
    }

    .order-card:hover {
      box-shadow: var(--shadow-sm)
    }

    .order-card-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 12px
    }

    .order-code {
      font-family: 'Zen Old Mincho', serif;
      font-size: 13px;
      color: var(--sakura-rich);
      letter-spacing: 0.06em
    }

    .order-date {
      font-size: 11px;
      color: var(--ink-ghost);
      margin-top: 2px
    }

    .order-status {
      font-family: 'Zen Kaku Gothic New', sans-serif;
      font-size: 10px;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      padding: 4px 12px;
      border-radius: 20px;
      border: 1px solid
    }

    .status-pending {
      color: #a07020;
      border-color: #f0d080;
      background: #fdf5d0
    }

    .status-preparing {
      color: #204080;
      border-color: #a0c0f0;
      background: #e8f0fc
    }

    .status-ready {
      color: #206040;
      border-color: #80d0a0;
      background: #e0f8ec
    }

    .status-completed {
      color: #606060;
      border-color: #d0d0d0;
      background: #f4f4f4
    }

    .status-cancelled {
      color: #803030;
      border-color: #f0a0a0;
      background: #fce8e8
    }

    .status-cod {
      color: var(--sakura-rich);
      border-color: var(--sakura-light);
      background: var(--sakura-pale)
    }

    .order-items-text {
      font-size: 13px;
      color: var(--ink-muted);
      line-height: 1.7;
      margin-bottom: 12px;
      font-style: italic
    }

    .order-total-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-top: 12px;
      border-top: 1px solid var(--border-soft);
      font-family: 'Zen Old Mincho', serif;
      font-size: 16px
    }

    .order-total-label {
      color: var(--ink-muted);
      font-size: 12px;
      font-family: 'Zen Kaku Gothic New', sans-serif;
      letter-spacing: 0.1em;
      text-transform: uppercase
    }

    .order-total-amt {
      color: var(--sakura-rich);
      font-weight: 700
    }

    .admin-wrap {
      background: linear-gradient(145deg, #f8f4fc, #fceef4);
      border: 1px solid rgba(110, 48, 80, 0.15);
      border-radius: var(--r-lg);
      padding: 28px
    }

    .admin-order-row {
      background: #fff;
      border: 1px solid var(--border-soft);
      border-radius: var(--r);
      padding: 16px 20px;
      margin-bottom: 10px;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      flex-wrap: wrap;
      gap: 12px
    }

    #cart-overlay {
      position: fixed;
      inset: 0;
      z-index: 500;
      background: rgba(28, 20, 16, 0.4);
      backdrop-filter: blur(6px);
      display: none;
      opacity: 0;
      transition: opacity 0.3s
    }

    #cart-overlay.open {
      display: flex;
      justify-content: flex-end;
      opacity: 1
    }

    #cart-panel {
      width: 440px;
      max-width: 100vw;
      background: var(--washi);
      border-left: 1px solid var(--border);
      height: 100%;
      display: flex;
      flex-direction: column;
      transform: translateX(100%);
      transition: transform 0.38s var(--ease-out)
    }

    #cart-overlay.open #cart-panel {
      transform: translateX(0)
    }

    .cart-header {
      padding: 26px 28px 20px;
      border-bottom: 1px solid var(--border-soft);
      display: flex;
      align-items: center;
      justify-content: space-between
    }

    .cart-title {
      font-family: 'Zen Old Mincho', serif;
      font-size: 20px;
      font-weight: 700;
      color: var(--ink);
      display: flex;
      align-items: center;
      gap: 10px
    }

    .cart-kana {
      font-size: 11px;
      letter-spacing: 0.4em;
      color: var(--sakura-mid);
      font-weight: 400
    }

    .cart-close {
      width: 36px;
      height: 36px;
      background: var(--washi-dark);
      border: none;
      border-radius: 50%;
      font-size: 16px;
      cursor: pointer;
      color: var(--ink-muted);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s, color 0.2s
    }

    .cart-close:hover {
      background: var(--sakura-pale);
      color: var(--sakura-rich)
    }

    .cart-body {
      flex: 1;
      overflow-y: auto;
      padding: 20px 28px
    }

    .cart-item {
      display: flex;
      align-items: flex-start;
      gap: 14px;
      padding: 16px 0;
      border-bottom: 1px solid var(--border-soft)
    }

    .cart-item-icon {
      font-size: 24px;
      width: 40px;
      height: 40px;
      background: var(--washi-deep);
      border-radius: var(--r);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0
    }

    .cart-item-info {
      flex: 1
    }

    .cart-item-name {
      font-family: 'Zen Old Mincho', serif;
      font-size: 13.5px;
      font-weight: 600;
      color: var(--ink);
      margin-bottom: 3px
    }

    .cart-item-price {
      font-size: 12px;
      color: var(--sakura-rich);
      font-family: 'Zen Kaku Gothic New', sans-serif
    }

    .cart-qty {
      display: flex;
      align-items: center;
      gap: 10px
    }

    .qty-btn {
      width: 28px;
      height: 28px;
      background: var(--washi-deep);
      border: 1px solid var(--border);
      border-radius: 50%;
      cursor: pointer;
      font-size: 15px;
      color: var(--ink-muted);
      display: flex;
      align-items: center;
      justify-content: center;
      line-height: 1;
      transition: all 0.15s
    }

    .qty-btn:hover {
      background: var(--sakura-pale);
      border-color: var(--sakura-light);
      color: var(--sakura-rich)
    }

    .qty-num {
      font-family: 'Zen Old Mincho', serif;
      font-size: 15px;
      min-width: 20px;
      text-align: center;
      color: var(--ink)
    }

    .cart-footer {
      padding: 20px 28px 28px;
      border-top: 1px solid var(--border-soft);
      background: linear-gradient(to bottom, var(--washi), var(--washi-deep))
    }

    .cart-total {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 18px;
      font-family: 'Zen Old Mincho', serif
    }

    .cart-total-label {
      font-size: 12px;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      font-family: 'Zen Kaku Gothic New', sans-serif;
      color: var(--ink-muted)
    }

    .cart-total-amt {
      font-size: 22px;
      font-weight: 700;
      color: var(--sakura-rich)
    }

    .modal-overlay {
      position: fixed;
      inset: 0;
      z-index: 600;
      background: rgba(28, 20, 16, 0.5);
      backdrop-filter: blur(8px);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 20px
    }

    .modal-overlay.open {
      display: flex
    }

    .modal {
      background: var(--washi);
      border-radius: 12px;
      border: 1px solid var(--border);
      width: 100%;
      max-width: 540px;
      max-height: 92vh;
      overflow-y: auto;
      box-shadow: var(--shadow-lg);
      animation: modalIn 0.35s var(--ease-spring)
    }

    @keyframes modalIn {
      from {
        opacity: 0;
        transform: scale(0.92) translateY(20px)
      }

      to {
        opacity: 1;
        transform: scale(1) translateY(0)
      }
    }

    .modal-header {
      padding: 28px 32px 20px;
      border-bottom: 1px solid var(--border-soft);
      display: flex;
      align-items: center;
      justify-content: space-between
    }

    .modal-title {
      font-family: 'Zen Old Mincho', serif;
      font-size: 20px;
      font-weight: 700;
      color: var(--ink)
    }

    .modal-body {
      padding: 28px 32px
    }

    .modal-footer {
      padding: 0 32px 28px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap
    }

    .form-group {
      margin-bottom: 18px
    }

    .form-label {
      display: block;
      font-family: 'Zen Kaku Gothic New', sans-serif;
      font-size: 10.5px;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--ink-muted);
      margin-bottom: 8px
    }

    .form-input,
    .form-select {
      width: 100%;
      background: #fff;
      border: 1.5px solid var(--border);
      border-radius: var(--r);
      padding: 11px 14px;
      font-family: 'Libre Baskerville', serif;
      font-size: 14px;
      color: var(--ink);
      outline: none;
      transition: border-color 0.2s, box-shadow 0.2s
    }

    .form-input:focus,
    .form-select:focus {
      border-color: var(--sakura-mid);
      box-shadow: 0 0 0 3px rgba(196, 96, 122, 0.08)
    }

    .form-select {
      cursor: pointer
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px
    }

    .auth-tabs {
      display: flex;
      gap: 0;
      border-bottom: 1px solid var(--border-soft);
      margin-bottom: 28px
    }

    .auth-tab {
      flex: 1;
      padding: 12px;
      font-family: 'Zen Kaku Gothic New', sans-serif;
      font-size: 11px;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      border: none;
      background: none;
      cursor: pointer;
      color: var(--ink-ghost);
      border-bottom: 2px solid transparent;
      margin-bottom: -1px;
      transition: all 0.2s
    }

    .auth-tab:hover {
      color: var(--ink-muted)
    }

    .auth-tab.active {
      color: var(--sakura-rich);
      border-bottom-color: var(--sakura-mid)
    }

    .payment-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-top: 8px
    }

    .payment-opt {
      padding: 14px 8px;
      border: 1.5px solid var(--border);
      border-radius: var(--r);
      text-align: center;
      cursor: pointer;
      font-family: 'Zen Kaku Gothic New', sans-serif;
      font-size: 11px;
      letter-spacing: 0.08em;
      color: var(--ink-muted);
      transition: all 0.2s
    }

    .payment-opt:hover {
      border-color: var(--sakura-light);
      color: var(--ink)
    }

    .payment-opt.selected {
      border-color: var(--sakura-mid);
      background: var(--sakura-pale);
      color: var(--sakura-rich)
    }

    .payment-opt-icon {
      font-size: 22px;
      display: block;
      margin-bottom: 6px
    }

    .checkout-summary {
      background: var(--washi-deep);
      border-radius: var(--r);
      padding: 16px;
      margin-bottom: 20px;
      font-size: 13px
    }

    .checkout-line {
      display: flex;
      justify-content: space-between;
      padding: 5px 0;
      color: var(--ink-muted)
    }

    .checkout-line .amt {
      color: var(--ink);
      font-family: 'Zen Old Mincho', serif
    }

    .checkout-line.discount .amt {
      color: var(--moss)
    }

    .checkout-total-line {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 0 0;
      margin-top: 8px;
      border-top: 1px solid var(--border);
      font-family: 'Zen Old Mincho', serif;
      font-size: 20px
    }

    .checkout-total-line .total-amt {
      color: var(--sakura-rich);
      font-weight: 700
    }

    .success-view {
      text-align: center;
      padding: 20px 0 10px
    }

    .success-icon {
      font-size: 60px;
      display: block;
      margin-bottom: 20px;
      animation: bounceIn 0.6s var(--ease-spring)
    }

    @keyframes bounceIn {
      0% {
        transform: scale(0) rotate(-15deg);
        opacity: 0
      }

      60% {
        transform: scale(1.2) rotate(3deg)
      }

      100% {
        transform: scale(1) rotate(0);
        opacity: 1
      }
    }

    .success-title {
      font-family: 'Zen Old Mincho', serif;
      font-size: 22px;
      font-weight: 700;
      color: var(--ink);
      margin-bottom: 8px
    }

    .success-code {
      display: inline-block;
      font-family: 'Zen Old Mincho', serif;
      font-size: 17px;
      color: var(--sakura-rich);
      background: var(--sakura-pale);
      border: 1px solid var(--sakura-light);
      border-radius: 6px;
      padding: 10px 24px;
      letter-spacing: 0.08em;
      margin: 14px 0
    }

    .success-sub {
      font-size: 13px;
      color: var(--ink-muted);
      font-style: italic;
      line-height: 1.8;
      margin-bottom: 28px
    }

    #toast-container {
      position: fixed;
      bottom: 28px;
      right: 28px;
      z-index: 900;
      display: flex;
      flex-direction: column-reverse;
      gap: 8px;
      align-items: flex-end
    }

    .toast {
      background: var(--ink);
      color: var(--washi);
      border-radius: 6px;
      padding: 12px 18px;
      font-family: 'Zen Kaku Gothic New', sans-serif;
      font-size: 12.5px;
      letter-spacing: 0.04em;
      max-width: 320px;
      box-shadow: var(--shadow-md);
      animation: toastIn 0.3s var(--ease-spring), toastOut 0.3s ease 3.7s forwards;
      display: flex;
      align-items: center;
      gap: 10px
    }

    .toast.success {
      background: #204828;
      border-left: 3px solid #60c870
    }

    .toast.error {
      background: #481820;
      border-left: 3px solid #e06060
    }

    .toast.info {
      background: var(--ink);
      border-left: 3px solid var(--sakura-mid)
    }

    @keyframes toastIn {
      from {
        opacity: 0;
        transform: translateX(16px) scale(0.95)
      }

      to {
        opacity: 1;
        transform: translateX(0) scale(1)
      }
    }

    @keyframes toastOut {
      from {
        opacity: 1
      }

      to {
        opacity: 0
      }
    }

    .empty-state {
      text-align: center;
      padding: 60px 20px;
      color: var(--ink-ghost)
    }

    .empty-state-icon {
      font-size: 48px;
      display: block;
      margin-bottom: 14px;
      opacity: 0.6
    }

    .empty-state-text {
      font-family: 'Zen Kaku Gothic New', sans-serif;
      font-size: 13px;
      letter-spacing: 0.1em;
      color: var(--ink-ghost)
    }

    .info-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 48px
    }

    @media (max-width:640px) {
      .info-grid {
        grid-template-columns: 1fr;
        gap: 32px
      }

      .menu-grid {
        grid-template-columns: 1fr
      }

      .deals-grid {
        grid-template-columns: 1fr
      }

      .form-row {
        grid-template-columns: 1fr
      }

      .payment-grid {
        grid-template-columns: 1fr 1fr
      }
    }

    .info-block-label {
      font-family: 'Zen Kaku Gothic New', sans-serif;
      font-size: 10px;
      letter-spacing: 0.4em;
      text-transform: uppercase;
      color: var(--sakura-mid);
      margin-bottom: 14px;
      display: flex;
      align-items: center;
      gap: 10px
    }

    .info-block-label::after {
      content: '';
      flex: 1;
      height: 1px;
      background: linear-gradient(to right, var(--sakura-light), transparent)
    }

    .info-block-body {
      font-size: 14.5px;
      line-height: 2;
      color: var(--ink-soft)
    }

    .footer {
      padding: 56px 0 40px;
      border-top: 1px solid var(--border-soft);
      text-align: center;
      background: linear-gradient(to bottom, var(--washi) 0%, var(--washi-deep) 100%)
    }

    .footer-kana {
      font-family: 'Zen Old Mincho', serif;
      font-size: 36px;
      font-weight: 900;
      letter-spacing: 0.3em;
      background: linear-gradient(135deg, var(--sakura-light), var(--sakura-mid));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      opacity: 0.35;
      margin-bottom: 10px
    }

    .footer-copy {
      font-family: 'Zen Kaku Gothic New', sans-serif;
      font-size: 11px;
      letter-spacing: 0.15em;
      color: var(--ink-ghost)
    }

    .reveal {
      opacity: 0;
      transform: translateY(22px);
      transition: opacity 0.7s var(--ease-out), transform 0.7s var(--ease-out)
    }

    .reveal.in {
      opacity: 1;
      transform: translateY(0)
    }

    .reveal-delay-1 {
      transition-delay: 0.1s
    }

    .reveal-delay-2 {
      transition-delay: 0.2s
    }

    .reveal-delay-3 {
      transition-delay: 0.3s
    }
  </style>
</head>

<body>
  <canvas id="petal-canvas"></canvas>
  <div id="toast-container"></div>

  <!-- CART OVERLAY -->
  <div id="cart-overlay">
    <div id="cart-panel">
      <div class="cart-header">
        <div class="cart-title">üå∏ Cart <span class="cart-kana">„ÅäË≤∑„ÅÑÁâ©</span></div>
        <button class="cart-close" id="cart-close-btn">‚úï</button>
      </div>
      <div class="cart-body" id="cart-body">
        <div class="empty-state"><span class="empty-state-icon">üõí</span>
          <div class="empty-state-text">Your cart is empty</div>
        </div>
      </div>
      <div class="cart-footer" id="cart-footer" style="display:none">
        <div class="cart-total">
          <span class="cart-total-label">Subtotal</span>
          <span class="cart-total-amt" id="cart-total-display">¬•0</span>
        </div>
        <button class="btn btn-primary" style="width:100%;justify-content:center" id="cart-checkout-btn">Proceed to
          Checkout</button>
      </div>
    </div>
  </div>

  <!-- CHECKOUT MODAL -->
  <div class="modal-overlay" id="checkout-modal">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">üí≥ Checkout</div>
        <button class="cart-close" onclick="closeModal('checkout-modal')">‚úï</button>
      </div>
      <div class="modal-body" id="checkout-body"></div>
    </div>
  </div>

  <!-- AUTH MODAL -->
  <div class="modal-overlay" id="auth-modal">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">üå∏ Welcome</div>
        <button class="cart-close" onclick="closeModal('auth-modal')">‚úï</button>
      </div>
      <div class="modal-body">
        <div class="auth-tabs">
          <button class="auth-tab active" id="tab-login-btn">Login</button>
          <button class="auth-tab" id="tab-register-btn">Register</button>
          <button class="auth-tab" id="tab-guest-btn">Continue as Guest</button>
        </div>
        <div id="auth-content"></div>
      </div>
    </div>
  </div>

  <!-- SITE WRAP -->
  <div class="site-wrap">
    <!-- NAV -->
    <nav class="nav" id="main-nav">
      <a href="#" class="nav-logo">
        <span class="nav-logo-kana">Ê°úÂ±ÖÈÖíÂ±ã</span>
        <span class="nav-logo-dot"></span>
        <span class="nav-logo-en">Sakura Izakaya</span>
      </a>
      <ul class="nav-links">
        <li><a href="#menu">Menu</a></li>
        <li><a href="#deals">Deals</a></li>
        <li><a href="#merch">Merch</a></li>
        <li><a href="#orders">Orders</a></li>
        <li><a href="#info">Info</a></li>
      </ul>
      <div class="nav-right">
        <button class="nav-cart" id="nav-cart-btn">
          üõí <span>Cart</span>
          <span class="nav-cart-badge" id="nav-cart-count">0</span>
        </button>
      </div>
    </nav>

    <!-- HERO -->
    <header class="hero" id="home">
      <svg class="hero-branch" viewBox="0 0 600 800" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M580 10C500 80,420 160,360 260C300 360,260 480,220 600C190 680,160 740,140 790" stroke="#c4607a"
          stroke-width="3.5" fill="none" stroke-linecap="round" opacity="0.7" />
        <path d="M420 160C380 120,320 80,260 60" stroke="#c4607a" stroke-width="2.2" fill="none" stroke-linecap="round"
          opacity="0.6" />
        <path d="M380 220C340 200,290 210,240 230" stroke="#c4607a" stroke-width="2" fill="none" stroke-linecap="round"
          opacity="0.55" />
        <path d="M340 300C290 270,230 260,180 280" stroke="#c4607a" stroke-width="1.8" fill="none"
          stroke-linecap="round" opacity="0.5" />
        <path d="M310 360C350 320,390 300,440 310" stroke="#c4607a" stroke-width="1.6" fill="none"
          stroke-linecap="round" opacity="0.45" />
        <path d="M280 430C240 400,200 390,160 400" stroke="#c4607a" stroke-width="1.5" fill="none"
          stroke-linecap="round" opacity="0.4" />
        <path d="M260 510C300 480,340 470,380 480" stroke="#c4607a" stroke-width="1.4" fill="none"
          stroke-linecap="round" opacity="0.38" />
        <g opacity="0.8">
          <circle cx="255" cy="58" r="9" fill="#f5c8d4" />
          <circle cx="238" cy="68" r="6" fill="#e8a0b4" />
          <circle cx="270" cy="52" r="5" fill="#fce8ee" />
          <circle cx="243" cy="78" r="4" fill="#f5c8d4" />
          <circle cx="262" cy="46" r="4" fill="#e8a0b4" />
          <circle cx="237" cy="228" r="8" fill="#f5c8d4" />
          <circle cx="220" cy="238" r="5" fill="#e8a0b4" />
          <circle cx="250" cy="220" r="5" fill="#fce8ee" />
          <circle cx="228" cy="248" r="4" fill="#f5c8d4" />
          <circle cx="175" cy="278" r="8" fill="#fce8ee" />
          <circle cx="160" cy="290" r="5" fill="#f5c8d4" />
          <circle cx="190" cy="270" r="4" fill="#e8a0b4" />
          <circle cx="168" cy="300" r="4" fill="#f5c8d4" />
          <circle cx="443" cy="308" r="7" fill="#fce8ee" />
          <circle cx="456" cy="298" r="5" fill="#f5c8d4" />
          <circle cx="432" cy="316" r="4" fill="#e8a0b4" />
          <circle cx="158" cy="398" r="8" fill="#f5c8d4" />
          <circle cx="142" cy="408" r="5" fill="#e8a0b4" />
          <circle cx="172" cy="390" r="4" fill="#fce8ee" />
          <circle cx="382" cy="478" r="7" fill="#fce8ee" />
          <circle cx="395" cy="468" r="5" fill="#f5c8d4" />
          <circle cx="370" cy="488" r="4" fill="#e8a0b4" />
        </g>
      </svg>
      <svg class="hero-branch-left" viewBox="0 0 400 500" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M10 490C60 400,130 310,190 220C240 150,290 90,340 30" stroke="#c4607a" stroke-width="3" fill="none"
          stroke-linecap="round" opacity="0.6" />
        <path d="M150 290C110 260,80 230,60 190" stroke="#c4607a" stroke-width="1.8" fill="none" stroke-linecap="round"
          opacity="0.5" />
        <path d="M210 210C240 180,270 160,310 155" stroke="#c4607a" stroke-width="1.6" fill="none"
          stroke-linecap="round" opacity="0.45" />
        <g opacity="0.75">
          <circle cx="57" cy="188" r="7" fill="#f5c8d4" />
          <circle cx="44" cy="198" r="5" fill="#e8a0b4" />
          <circle cx="68" cy="180" r="4" fill="#fce8ee" />
          <circle cx="312" cy="153" r="7" fill="#fce8ee" />
          <circle cx="326" cy="144" r="5" fill="#f5c8d4" />
          <circle cx="300" cy="162" r="4" fill="#e8a0b4" />
        </g>
      </svg>
      <div class="hero-vert hero-vert-left">Â§ßÈò™„ÅÆÂøÉ„ÉªËä±„ÅÆÂë≥</div>
      <div class="hero-vert hero-vert-right">Êò•„ÅÆÊñôÁêÜ„ÉªÊó¨„ÅÆÂë≥„Çè„ÅÑ</div>
      <div class="hero-content">
        <div class="hero-eyebrow">Osaka, Japan ¬∑ Since the Cherry Blossoms</div>
        <h1 class="hero-kana">Ê°úÂ±ÖÈÖíÂ±ã</h1>
        <div class="hero-title-en">Sakura Izakaya</div>
        <div class="hero-divider">
          <div class="hero-divider-line"></div>
          <span class="hero-divider-blossom">üå∏</span>
          <div class="hero-divider-line"></div>
        </div>
        <p class="hero-tagline">Where Osaka's warmth blooms in every bite.<br>Takoyaki, izakaya classics & the spirit of
          omotenashi ‚Äî crafted with heart.</p>
        <div class="hero-actions">
          <button class="btn btn-primary"
            onclick="document.getElementById('menu').scrollIntoView({behavior:'smooth'})">üç° Explore Menu</button>
          <button class="btn btn-outline" onclick="openAuthModal()">Login ¬∑ Register</button>
        </div>
      </div>
      <div class="scroll-hint">
        <div class="scroll-hint-line"></div><span>scroll</span>
      </div>
    </header>

    <!-- MAIN -->
    <main>
      <div class="container">
        <!-- USER BAR -->
        <div class="user-bar" style="margin-top:32px">
          <div class="user-bar-left" id="user-bar-left">
            <div class="user-bar-avatar">üå∏</div>
            <div>
              <span class="user-bar-name" id="user-bar-name">Guest</span>
              <span class="user-bar-tag" id="user-bar-tag">GUEST</span>
            </div>
          </div>
          <div class="user-bar-actions" id="user-bar-actions"></div>
        </div>

        <!-- MENU SECTION -->
        <section class="section" id="menu">
          <div class="section-header reveal">
            <div class="section-label">„ÅäÂìÅÊõ∏„Åç ¬∑ The Menu</div>
            <h2 class="section-title">What will you <em>savour</em> today?</h2>
            <div class="section-kana">Êò•„ÅÆÁåÆÁ´ã ¬∑ Haru no Kondate</div>
          </div>
          <div class="menu-tabs reveal reveal-delay-1" id="menu-tabs">
            <button class="menu-tab active" data-panel="takoyaki">üç° Takoyaki</button>
            <button class="menu-tab" data-panel="osaka">Osaka Dishes</button>
            <button class="menu-tab" data-panel="japanese">Japanese Food</button>
            <button class="menu-tab" data-panel="sides">Sides</button>
            <button class="menu-tab" data-panel="drinks">Drinks</button>
            <button class="menu-tab" data-panel="desserts">Desserts</button>
          </div>
          <div id="menu-panels" class="reveal reveal-delay-2"></div>
        </section>

        <!-- DEALS SECTION -->
        <section class="section" id="deals">
          <div class="section-header reveal">
            <div class="section-label">ÁâπÂà•„Çµ„Éº„Éì„Çπ ¬∑ Specials</div>
            <h2 class="section-title">Today's <em>Deals</em></h2>
            <div class="section-kana">‰ªäÊó•„ÅÆÁâπÂÖ∏</div>
          </div>
          <div class="deals-grid reveal reveal-delay-1" id="deals-grid"></div>
        </section>

        <!-- MERCHANDISE SECTION -->
        <section class="section" id="merch">
          <div class="section-header reveal">
            <div class="section-label">„Ç∞„ÉÉ„Ç∫ ¬∑ Merchandise</div>
            <h2 class="section-title">Bring Sakura <em>Home</em></h2>
            <div class="section-kana">„ÅäÂúüÁî£„Éª„Ç∞„ÉÉ„Ç∫</div>
          </div>
          <div class="menu-grid reveal reveal-delay-1" id="merch-grid"></div>
        </section>

        <!-- ORDERS SECTION -->
        <section class="section" id="orders">
          <div class="section-header reveal">
            <div class="section-label">„ÅîÊ≥®ÊñáÂ±•Ê≠¥ ¬∑ History</div>
            <h2 class="section-title">Your <em>Orders</em></h2>
          </div>
          <div id="orders-list" class="reveal reveal-delay-1"></div>
        </section>

        <!-- ADMIN SECTION (hidden) -->
        <section class="section" id="admin-section" style="display:none">
          <div class="section-header">
            <div class="section-label">ÁÆ°ÁêÜËÄÖ ¬∑ Admin</div>
            <h2 class="section-title">Order <em>Management</em></h2>
          </div>
          <div class="admin-wrap" id="admin-panel"></div>
        </section>

        <!-- INFO SECTION -->
        <section class="section" id="info">
          <div class="section-header reveal">
            <div class="section-label">„Ç¢„ÇØ„Çª„Çπ ¬∑ Find Us</div>
            <h2 class="section-title">Visit <em>Sakura</em></h2>
          </div>
          <div class="info-grid reveal reveal-delay-1">
            <div>
              <div class="info-block-label">Location</div>
              <div class="info-block-body">üèÆ 1F, 1600 Namba-One Dori<br>Naniwa-ku, Osaka-shi<br>Osaka 900-001, Japan
                üáØüáµ<br><br>Nestled near the glowing streets of Dotonbori ‚Äî follow the lanterns and the scent of freshly
                grilled skewers to find us.</div>
            </div>
            <div>
              <div class="info-block-label">About Us</div>
              <div class="info-block-body">We are a small, family-run izakaya rooted in Osaka's street food spirit.
                Every dish is made with care, pride, and a deep love for omotenashi ‚Äî Japanese hospitality at its
                finest.<br><br>Come for the food üç¢ ‚Äî stay for the feeling. ‚ú®</div>
            </div>
          </div>
        </section>
      </div>
    </main>

    <!-- FOOTER -->
    <footer class="footer">
      <div class="footer-kana">Ê°úÂ±ÖÈÖíÂ±ã</div>
      <div class="footer-copy">¬© 2025 Sakura Izakaya, Osaka ¬∑ „ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åó„Åü ¬∑ Made with üå∏</div>
    </footer>
  </div>
  <script>
    "use strict"; 
    const USERS_KEY = 'sakura_users', ORDERS_KEY = 'sakura_orders'; 
    const izakayaMenu = { 
    "Classic Takoyaki": { price: 90, emoji: "üç°", desc: "Osaka's signature street food. Crispy outside, fluffy inside, topped with sauce, mayo, bonito flakes, and seaweed." }, 
    "Cheese Takoyaki": { price: 120, emoji: "üßÄ", desc: "Gooey cheese and octopus inside, melty cheese on top." }, 
    "Mentaiko Takoyaki": { price: 130, emoji: "üå∂Ô∏è", desc: "Spicy pollock roe filling, seaweed, and spicy sauce." }, 
    "Spicy Takoyaki": { price: 110, emoji: "üî•", desc: "Jalape√±os and chili flakes, spicy mayo drizzle." }, 
    "Negi Mayo Takoyaki": { price: 130, emoji: "üßÖ", desc: "Green onion and creamy mayo topping." }, 
    "Kimchi Takoyaki": { price: 135, emoji: "ü•¨", desc: "Tangy kimchi meets classic takoyaki." }, 
    "Bacon Takoyaki": { price: 140, emoji: "ü•ì", desc: "Smoky bacon bits inside and on top." }, 
    "Shrimp/Crab Takoyaki": { price: 150, emoji: "ü¶ê", desc: "Real shrimp or crab, tangy sauce." }, 
    "Teriyaki Takoyaki": { price: 125, emoji: "üç∂", desc: "Sweet-savory teriyaki glaze." }, 
    "Curry Takoyaki": { price: 120, emoji: "üçõ", desc: "Japanese curry sauce, mild spice." }, 
    "Soy Sauce Takoyaki": { price: 115, emoji: "ü´ô", desc: "Simple, classic shoyu drizzle." }, 
    
    "Okonomiyaki": { price: 1100, emoji: "ü•¢", desc: "Osaka's famous savory pancake with cabbage, pork, bonito flakes, and okonomiyaki sauce." }, 
    "Negiyaki": { price: 900, emoji: "üßÖ", desc: "Green onion pancake with soy sauce, beef or pork." }, 
    "Kushikatsu": { price: 500, emoji: "üç¢", desc: "Deep-fried skewers of meat, seafood, and veggies, tangy dipping sauce." }, 
    "Yakisoba": { price: 700, emoji: "üçú", desc: "Stir-fried noodles with pork, cabbage, sweet-savory sauce, pickled ginger." }, 
    "Doteyaki": { price: 600, emoji: "üç≤", desc: "Beef tendon simmered in miso and mirin, rich umami." }, 
    "Horumon": { price: 800, emoji: "üî•", desc: "Grilled beef or pork offal, smoky and rich." }, 
    "Ikayaki": { price: 400, emoji: "ü¶ë", desc: "Grilled whole squid, soy sauce, sliced hot off the grill." }, 
    
    "Default Bento Box": { price: 750, emoji: "üç±", desc: "Rice, grilled salmon, pickled radish, grapes, soy sauce, seaweed." }, 
    "Gyoza": { price: 400, emoji: "ü•ü", desc: "Crispy pan-fried dumplings stuffed with pork and veggies, dipping sauce." }, 
    "Karaage": { price: 750, emoji: "üçó", desc: "Juicy Japanese fried chicken, ginger and garlic marinade." }, "Ramen": { price: 900, emoji: "üçú", desc: "Pork broth, chashu, egg, green onions." }, "Sashimi": { price: 300, emoji: "üêü", desc: "Fresh raw fish slices, soy sauce and wasabi." }, "Soba": { price: 700, emoji: "üåæ", desc: "Buckwheat noodles, chilled or hot broth." }, "Tempura": { price: 1000, emoji: "üç§", desc: "Lightly battered fried shrimp and veggies, tentsuyu sauce." }, "Udon": { price: 800, emoji: "üç≤", desc: "Thick wheat noodles, dashi broth, green onions, tempura bits." }, "Onigiri": { price: 250, emoji: "üçô", desc: "Rice balls, choice of filling (tuna, salmon, plum), wrapped in nori." } }; const drinkMenu = [{ name: "Sapporo Beer", price: 600, alcoholic: true, emoji: "üç∫", desc: "Classic Japanese lager, crisp and refreshing." }, { name: "Umeshu Plum Wine", price: 700, alcoholic: true, emoji: "üç∂", desc: "Sweet and tangy plum wine, served chilled." }, { name: "Sake (Hot/Cold)", price: 800, alcoholic: true, emoji: "üç∂", desc: "Traditional rice wine, choose hot or cold." }, { name: "Highball", price: 650, alcoholic: true, emoji: "ü•É", desc: "Japanese whisky with soda, light and fizzy." }, { name: "Shochu Lemon Sour", price: 650, alcoholic: true, emoji: "üçã", desc: "Shochu with lemon and soda, tart and refreshing." }, { name: "Calpis Soda", price: 350, alcoholic: false, emoji: "ü•§", desc: "Sweet, milky soda, a Japanese favourite." }, { name: "Oolong Tea", price: 300, alcoholic: false, emoji: "üçµ", desc: "Classic unsweetened Japanese tea." }, { name: "Ramune", price: 350, alcoholic: false, emoji: "ü´ß", desc: "Fizzy marble soda, fun and nostalgic." }]; const dessertMenu = [{ name: "Mochi Ice Cream", price: 400, emoji: "üç°", desc: "Chewy mochi filled with ice cream, assorted flavors." }, { name: "Dorayaki", price: 350, emoji: "ü•û", desc: "Sweet pancake sandwich with red bean filling." }, { name: "Matcha Pudding", price: 380, emoji: "üçµ", desc: "Creamy green tea pudding, lightly sweet." }, { name: "Seasonal Fruit Plate", price: 450, emoji: "üçì", desc: "Fresh, sliced fruit of the season." }, { name: "Sakura Mochi Ice Cream", price: 350, emoji: "üå∏", desc: "Limited-time sakura mochi ice cream." }]; const sideMenu = [{ name: "Edamame", price: 350, emoji: "üå±", desc: "Steamed and salted green soybeans." }, { name: "Agedashi Tofu", price: 400, emoji: "üç≤", desc: "Crispy fried tofu in savory broth." }, { name: "Tsukemono", price: 300, emoji: "ü•í", desc: "Assorted Japanese pickles." }, { name: "Seaweed Salad", price: 350, emoji: "ü•ó", desc: "Marinated seaweed with sesame." }, { name: "Potato Croquette", price: 380, emoji: "ü•î", desc: "Crispy breaded mashed potato patty." }]; const merchandiseMenu = [{ name: "Takoyaki Plushie", price: 2500, emoji: "üß∏", desc: "Cute takoyaki plushie, perfect for display or cuddling." }, { name: "Sakura Mug", price: 2200, emoji: "‚òï", desc: "Ceramic mug with sakura and takoyaki illustration." }, { name: "Izakaya T-Shirt", price: 3500, emoji: "üëï", desc: "Soft cotton tee with takoyaki mascot." }, { name: "Tote Bag", price: 1600, emoji: "üëú", desc: "Reusable tote with takoyaki and sakura design." }, { name: "Chopsticks + Holder", price: 1300, emoji: "ü•¢", desc: "Set of chopsticks with a cute holder." }, { name: "Keychain", price: 1300, emoji: "üóùÔ∏è", desc: "Takoyaki ball keychain." }, { name: "Sticker Pack", price: 900, emoji: "üè∑Ô∏è", desc: "Pack of cute takoyaki and Osaka stickers." }, { name: "Enamel Pin", price: 1200, emoji: "üìå", desc: "Takoyaki enamel pin for bags or jackets." }, { name: "Apron", price: 1800, emoji: "üë©‚Äçüç≥", desc: "Osaka Sakura Izakaya apron, stylish and practical." }, { name: "Notebook / Journal", price: 1100, emoji: "üìì", desc: "Sakura Izakaya themed notebook." }, { name: "Phone Case", price: 1800, emoji: "üì±", desc: "Takoyaki-themed phone case (various models)." }, { name: "DIY Sauces Kit", price: 2000, emoji: "üßÇ", desc: "Make your own takoyaki sauces and seasonings at home!" }, { name: "Art Print", price: 2200, emoji: "üñºÔ∏è", desc: "Osaka street food art print for your wall." }, { name: "Mini Tsutenkaku Tower", price: 1500, emoji: "üóº", desc: "Miniature Tsutenkaku tower souvenir." }, { name: "Osaka Castle Keychain", price: 1000, emoji: "üèØ", desc: "Osaka Castle keychain, iconic landmark." }, { name: "Osaka Postcard Set", price: 800, emoji: "‚úâÔ∏è", desc: "Set of 5 Osaka-themed postcards." }, { name: "Napkins (Set of 5)", price: 700, emoji: "üßª", desc: "Set of 5 themed napkins, reusable and eco-friendly." }, { name: "Takoyaki Box (Empty)", price: 800, emoji: "üì¶", desc: "Authentic takoyaki box for your own creations." }]; let orders = [], users = [], currentUser = null, cartItems = [], isAdmin = false, selectedPayment = null; const save = (k, v) => { try { localStorage.setItem(k, JSON.stringify(v)) } catch (e) { } }, load = k => { try { const d = localStorage.getItem(k); return d ? JSON.parse(d) : [] } catch (e) { return [] } }; function hashPwd(p) { let h = 0; for (let i = 0; i < p.length; i++) { h = ((h << 5) - h) + p.charCodeAt(i); h |= 0 } return h.toString(16) } function genCode() { const k = ["„ÅÇ", "„ÅÑ", "„ÅÜ", "„Åà", "„Åä", "„Åã", "„Åç", "„Åè", "„Åë", "„Åì", "„Åï", "„Åó", "„Åô", "„Åü", "„Å°", "„Å§", "„Å¶", "„Å®", "„Å™", "„Å´"], c = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"; let r = ""; for (let i = 0; i < 11; i++)r += c[Math.floor(Math.random() * c.length)]; return `${k[Math.floor(Math.random() * k.length)]}-${r}` } function toast(msg, type = 'info') { const c = document.getElementById('toast-container'), t = document.createElement('div'); t.className = `toast ${type}`; t.innerHTML = `<span>${type === 'success' ? '‚úì' : type === 'error' ? '‚úï' : 'üå∏'}</span> ${msg}`; c.appendChild(t); setTimeout(() => t.remove(), 4200) } function getSubtotal() { return cartItems.reduce((s, i) => s + i.price * i.quantity, 0) } function getCount() { return cartItems.reduce((s, i) => s + i.quantity, 0) } function addToCart(name, price, qty = 1, locked = false, custom = {}) { const existing = cartItems.find(i => i.name === name && i.locked === locked && JSON.stringify(i.custom) === JSON.stringify(custom)); if (existing) existing.quantity += qty; else cartItems.push({ name, price, quantity: qty, locked, custom }); toast(`${qty}√ó ${name} added ¬∑ ¬•${(price * qty).toLocaleString()}`, 'success'); renderCart(); updateNavCart() } function removeFromCart(i) { cartItems.splice(i, 1); renderCart(); updateNavCart() } function adjustQty(i, delta) { cartItems[i].quantity += delta; if (cartItems[i].quantity <= 0) cartItems.splice(i, 1); renderCart(); updateNavCart() } function updateNavCart() { document.getElementById('nav-cart-count').textContent = getCount() } function getItemEmoji(name) { if (izakayaMenu[name]) return izakayaMenu[name].emoji; const drink = drinkMenu.find(d => d.name === name); if (drink) return drink.emoji; const des = dessertMenu.find(d => d.name === name); if (des) return des.emoji; const side = sideMenu.find(d => d.name === name); if (side) return side.emoji; const merch = merchandiseMenu.find(d => d.name === name); if (merch) return merch.emoji; return 'üå∏' } function renderCart() { const body = document.getElementById('cart-body'), footer = document.getElementById('cart-footer'), total = document.getElementById('cart-total-display'); if (cartItems.length === 0) { body.innerHTML = '<div class="empty-state"><span class="empty-state-icon">üõí</span><div class="empty-state-text">Your cart is empty</div></div>'; footer.style.display = 'none'; return } footer.style.display = 'block'; total.textContent = `¬•${getSubtotal().toLocaleString()}`; body.innerHTML = cartItems.map((item, i) => `<div class="cart-item"><div class="cart-item-icon">${getItemEmoji(item.name)}</div><div class="cart-item-info"><div class="cart-item-name">${item.name}${item.locked ? ' üîí' : ''}</div><div class="cart-item-price">¬•${item.price.toLocaleString()} √ó ${item.quantity} = ¬•${(item.price * item.quantity).toLocaleString()}</div>${item.custom && item.custom.content ? `<div style="font-size:11px;color:var(--ink-ghost);margin-top:2px;font-style:italic">${item.custom.content}</div>` : ''}</div><div class="cart-qty">${item.locked ? '<span style="font-size:11px;color:var(--ink-ghost)">fixed</span>' : `<button class="qty-btn" onclick="adjustQty(${i},-1)">‚àí</button><span class="qty-num">${item.quantity}</span><button class="qty-btn" onclick="adjustQty(${i},+1)">+</button>`}<button class="qty-btn" style="color:#b04040" title="Remove" onclick="removeFromCart(${i})">‚úï</button></div></div>`).join('') } function openCart() { const o = document.getElementById('cart-overlay'); o.style.display = 'flex'; requestAnimationFrame(() => o.classList.add('open')); renderCart() } function closeCart() { const o = document.getElementById('cart-overlay'); o.classList.remove('open'); setTimeout(() => { o.style.display = 'none' }, 400) } function openModal(id) { document.getElementById(id).classList.add('open') } function closeModal(id) { document.getElementById(id).classList.remove('open') } function openCheckout() { if (!cartItems.length) { toast('Your cart is empty', 'error'); return } selectedPayment = null; buildCheckout(); openModal('checkout-modal') } function buildCheckout() { const subtotal = getSubtotal(); let discount = 0; if (currentUser?.email) { const prev = orders.filter(o => o.email === currentUser.email); if (prev.length === 0) discount = Math.round(subtotal * 0.1) } const total = subtotal - discount; document.getElementById('checkout-body').innerHTML = `<div class="checkout-summary">${cartItems.map(i => `<div class="checkout-line"><span>${i.quantity}√ó ${i.name}</span><span class="amt">¬•${(i.price * i.quantity).toLocaleString()}</span></div>`).join('')}${discount ? `<div class="checkout-line discount"><span>First-time 10% discount</span><span class="amt">‚àí¬•${discount.toLocaleString()}</span></div>` : ''}<div class="checkout-total-line"><span style="font-size:13px;font-family:'Zen Kaku Gothic New',sans-serif;letter-spacing:0.1em;text-transform:uppercase;color:var(--ink-muted)">Total Due</span><span class="total-amt">¬•${total.toLocaleString()}</span></div></div><div class="form-group"><label class="form-label">Name</label><input class="form-input" id="co-name" type="text" placeholder="Your name" value="${currentUser?.name || ''}"></div>${!currentUser?.email ? '<div class="form-group"><label class="form-label">Email (optional)</label><input class="form-input" id="co-email" type="email" placeholder="your@email.com"></div>' : ''}<div class="form-group"><label class="form-label">Payment Method</label><div class="payment-grid"><div class="payment-opt" data-m="card" onclick="selectPayment(this)"><span class="payment-opt-icon">üí≥</span>Card</div><div class="payment-opt" data-m="paypay" onclick="selectPayment(this)"><span class="payment-opt-icon">üì±</span>PayPay</div><div class="payment-opt" data-m="cash" onclick="selectPayment(this)"><span class="payment-opt-icon">üí¥</span>Cash/COD</div></div></div><div id="payment-fields"></div><div style="display:flex;gap:10px;margin-top:8px;flex-wrap:wrap"><button class="btn btn-outline" style="flex:1;justify-content:center" onclick="closeModal('checkout-modal')">Cancel</button><button class="btn btn-primary" style="flex:2;justify-content:center" onclick="confirmOrder(${total},${discount})">Confirm Order üå∏</button></div>` } function selectPayment(el) { document.querySelectorAll('.payment-opt').forEach(e => e.classList.remove('selected')); el.classList.add('selected'); selectedPayment = el.dataset.m; const f = document.getElementById('payment-fields'); if (selectedPayment === 'card') { f.innerHTML = '<div class="form-group"><label class="form-label">Card Number</label><input class="form-input" id="card-num" type="text" placeholder="1234 5678 9012 3456" maxlength="19"></div><div class="form-row"><div class="form-group"><label class="form-label">Expiry</label><input class="form-input" id="card-exp" type="text" placeholder="MM/YY" maxlength="5"></div><div class="form-group"><label class="form-label">CVV</label><input class="form-input" id="card-cvv" type="text" placeholder="123" maxlength="3"></div></div>' } else if (selectedPayment === 'paypay') { f.innerHTML = '<div class="form-group"><label class="form-label">PayPay ID</label><input class="form-input" id="paypay-id" type="text" placeholder="Your PayPay ID"></div>' } else { f.innerHTML = '<div style="padding:12px 0 4px;font-size:13px;color:var(--ink-muted);font-style:italic">Please pay at the counter or upon delivery. üå∏</div>' } } function confirmOrder(total, discount) { if (!selectedPayment) { toast('Please choose a payment method', 'error'); return } if (selectedPayment === 'card') { const num = (document.getElementById('card-num')?.value || '').replace(/\s/g, ''), cvv = (document.getElementById('card-cvv')?.value || ''); if (!/^\d{16}$/.test(num) || !/^\d{3}$/.test(cvv)) { toast('Invalid card details', 'error'); return } } else if (selectedPayment === 'paypay') { if ((document.getElementById('paypay-id')?.value || '').length < 3) { toast('Invalid PayPay ID', 'error'); return } } const name = document.getElementById('co-name')?.value || currentUser?.name || 'Guest', email = document.getElementById('co-email')?.value || currentUser?.email || null, code = genCode(), status = selectedPayment === 'cash' ? 'Cash On Delivery' : 'Pending'; orders.push({ customer: name, email, orderCode: code, items: [...cartItems], subtotal: getSubtotal(), discount, total, status, date: new Date().toISOString(), paymentMethod: selectedPayment }); save(ORDERS_KEY, orders); cartItems = []; renderCart(); updateNavCart(); document.getElementById('checkout-body').innerHTML = `<div class="success-view"><span class="success-icon">üå∏</span><div class="success-title">Order Confirmed!</div><div class="success-code">${code}</div><div class="success-sub">Total: ¬•${total.toLocaleString()} ¬∑ ${status}<br>„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åó„ÅüÔºÅThank you so much! üôè</div><button class="btn btn-primary" onclick="closeModal('checkout-modal');renderOrders()">View My Orders</button></div>`; toast(`Order confirmed! Code: ${code}`, 'success'); renderOrders() } function openAuthModal() { openModal('auth-modal'); setAuthTab('login') } function setAuthTab(tab) { document.querySelectorAll('.auth-tab').forEach(el => el.classList.remove('active')); document.getElementById(`tab-${tab}-btn`).classList.add('active'); renderAuthTab(tab) } function renderAuthTab(tab) { const c = document.getElementById('auth-content'); if (tab === 'login') { c.innerHTML = '<div class="form-group"><label class="form-label">Email</label><input class="form-input" id="auth-email" type="email" placeholder="your@email.com"></div><div class="form-group"><label class="form-label">Password</label><input class="form-input" id="auth-pass" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"></div><button class="btn btn-primary" style="width:100%;justify-content:center;margin-top:4px" onclick="doLogin()">Login üå∏</button>' } else if (tab === 'register') { c.innerHTML = '<div class="form-group"><label class="form-label">Name</label><input class="form-input" id="reg-name" type="text" placeholder="Your name"></div><div class="form-group"><label class="form-label">Email</label><input class="form-input" id="reg-email" type="email" placeholder="your@email.com"></div><div class="form-group"><label class="form-label">Password</label><input class="form-input" id="reg-pass" type="password" placeholder="Min 4 characters"></div><div class="form-group"><label class="form-label">Age</label><input class="form-input" id="reg-age" type="number" placeholder="Your age" min="1" max="120"></div><button class="btn btn-primary" style="width:100%;justify-content:center;margin-top:4px" onclick="doRegister()">Create Account üéâ</button>' } else { c.innerHTML = '<div style="text-align:center;padding:12px 0 20px"><div style="font-size:52px;margin-bottom:16px">üå∏</div><div style="font-style:italic;color:var(--ink-muted);font-size:15px;line-height:1.85;margin-bottom:24px">Welcome, honoured guest.<br>Browse freely and enjoy.</div><button class="btn btn-primary" style="justify-content:center" onclick="continueAsGuest()">Continue as Guest</button></div>' } } function doLogin() { const email = (document.getElementById('auth-email')?.value || '').trim().toLowerCase(), pass = (document.getElementById('auth-pass')?.value || ''), user = users.find(u => u.email === email && u.password === hashPwd(pass)); if (!user) { toast('Invalid credentials', 'error'); return } currentUser = user; isAdmin = false; toast(`Welcome back, ${user.name}! üå∏`, 'success'); closeModal('auth-modal'); updateUserBar(); renderOrders() } function doRegister() { const name = (document.getElementById('reg-name')?.value || '').trim(), email = (document.getElementById('reg-email')?.value || '').trim().toLowerCase(), pass = (document.getElementById('reg-pass')?.value || ''), age = parseInt(document.getElementById('reg-age')?.value) || 18; if (!name || !email || !pass) { toast('Please fill all fields', 'error'); return } if (pass.length < 4) { toast('Password too short (min 4 chars)', 'error'); return } if (users.find(u => u.email === email)) { toast('Email already registered', 'error'); return } users.push({ email, password: hashPwd(pass), name, age }); save(USERS_KEY, users); currentUser = { email, name, age }; isAdmin = false; toast(`Welcome, ${name}! üéâ`, 'success'); closeModal('auth-modal'); updateUserBar(); renderOrders() } function continueAsGuest() { currentUser = { name: 'Guest', age: 18, email: null }; isAdmin = false; toast('Browsing as Guest üçú', 'info'); closeModal('auth-modal'); updateUserBar() } function doAdminLogin() { const pwd = window.prompt('Admin Password:'); if (pwd !== '#Osaka2027doriSFO') { toast('Wrong admin password', 'error'); return } const otp = window.prompt('DEMO OTP (10‚Äì19):'), req = (new Date().getMinutes() % 10) + 10; if (parseInt(otp) !== req) { toast('Wrong OTP', 'error'); return } isAdmin = true; currentUser = { name: 'CaptainCTO-kun', age: 30, email: 'admin@izakaya.shop' }; toast('üëë Admin access granted!', 'success'); updateUserBar(); renderAdminPanel(); document.getElementById('admin-section').style.display = 'block' } function doLogout() { currentUser = { name: 'Guest', age: 18, email: null }; isAdmin = false; cartItems = []; renderCart(); updateNavCart(); updateUserBar(); document.getElementById('admin-section').style.display = 'none'; toast('Logged out. See you soon! üå∏', 'info'); renderOrders() } function updateUserBar() { const nameEl = document.getElementById('user-bar-name'), tagEl = document.getElementById('user-bar-tag'), actionsEl = document.getElementById('user-bar-actions'); nameEl.textContent = currentUser?.name || 'Guest'; tagEl.textContent = isAdmin ? 'ADMIN üëë' : currentUser?.email ? 'MEMBER' : 'GUEST'; tagEl.style.background = isAdmin ? 'rgba(110,48,80,0.12)' : ''; tagEl.style.borderColor = isAdmin ? 'rgba(110,48,80,0.3)' : ''; tagEl.style.color = isAdmin ? '#6e3050' : ''; if (currentUser?.email) { actionsEl.innerHTML = `<button class="btn btn-outline btn-sm" onclick="openAuthModal()">Account</button><button class="btn btn-ghost btn-sm" onclick="doLogout()">Logout</button>${!isAdmin ? '<button class="btn btn-sm" style="background:rgba(110,48,80,0.1);color:#6e3050;border:1px solid rgba(110,48,80,0.2)" onclick="doAdminLogin()">Admin</button>' : ''}` } else { actionsEl.innerHTML = '<button class="btn btn-primary btn-sm" onclick="openAuthModal()">Login ¬∑ Register</button><button class="btn btn-sm" style="background:rgba(110,48,80,0.1);color:#6e3050;border:1px solid rgba(110,48,80,0.2)" onclick="doAdminLogin()">Admin</button>' } } function menuCard(name, price, emoji, desc, badge = '') { return `<div class="menu-card"><div class="menu-card-top"><span class="menu-card-emoji">${emoji}</span><div class="menu-card-price">¬•${price.toLocaleString()} <small>JPY</small></div></div><div class="menu-card-name">${name}</div><div class="menu-card-desc">${desc}</div><div class="menu-card-footer">${badge}<button class="btn btn-primary btn-sm" onclick="quickAdd('${name.replace(/'/g, "\\'").replace(/"/g, '&quot;')}',${price})">+ Add</button></div></div>` } function quickAdd(name, price) { const drink = drinkMenu.find(d => d.name === name); if (drink?.alcoholic && (currentUser?.age || 0) < 20) { toast('Must be 20+ to order alcoholic drinks in Japan', 'error'); return } addToCart(name, price, 1) } function renderAllMenus() { const panels = document.getElementById('menu-panels'), takoyakiKeys = ["Classic Takoyaki", "Cheese Takoyaki", "Mentaiko Takoyaki", "Spicy Takoyaki", "Negi Mayo Takoyaki", "Kimchi Takoyaki", "Bacon Takoyaki", "Shrimp/Crab Takoyaki", "Teriyaki Takoyaki", "Curry Takoyaki", "Soy Sauce Takoyaki"], osakaKeys = ["Okonomiyaki", "Negiyaki", "Kushikatsu", "Yakisoba", "Doteyaki", "Horumon", "Ikayaki"], japaneseKeys = ["Default Bento Box", "Gyoza", "Karaage", "Ramen", "Sashimi", "Soba", "Tempura", "Udon", "Onigiri"]; panels.innerHTML = `<div class="menu-panel active" id="panel-takoyaki"><div class="menu-grid">${takoyakiKeys.map(k => { const d = izakayaMenu[k]; return menuCard(k, d.price, d.emoji, d.desc) }).join('')}</div></div><div class="menu-panel" id="panel-osaka"><div class="menu-grid">${osakaKeys.map(k => { const d = izakayaMenu[k]; return menuCard(k, d.price, d.emoji, d.desc) }).join('')}</div></div><div class="menu-panel" id="panel-japanese"><div class="menu-grid">${japaneseKeys.map(k => { const d = izakayaMenu[k]; return menuCard(k, d.price, d.emoji, d.desc) }).join('')}</div></div><div class="menu-panel" id="panel-sides"><div class="menu-grid">${sideMenu.map(i => menuCard(i.name, i.price, i.emoji, i.desc)).join('')}</div></div><div class="menu-panel" id="panel-drinks"><div class="menu-grid">${drinkMenu.map(i => menuCard(i.name, i.price, i.emoji, i.desc, i.alcoholic ? '<span class="alcoholic-tag">20+ Only</span>' : '')).join('')}</div></div><div class="menu-panel" id="panel-desserts"><div class="menu-grid">${dessertMenu.map(i => menuCard(i.name, i.price, i.emoji, i.desc)).join('')}</div></div>`; document.getElementById('menu-tabs').addEventListener('click', e => { const btn = e.target.closest('.menu-tab'); if (!btn) return; document.querySelectorAll('.menu-tab').forEach(t => t.classList.remove('active')); document.querySelectorAll('.menu-panel').forEach(p => p.classList.remove('active')); btn.classList.add('active'); document.getElementById(`panel-${btn.dataset.panel}`).classList.add('active') }) } const dealsData = [{ badge: "Best Value", title: "Friends & Family Pack", desc: "30 Takoyaki Balls for just ¬•2,400 ‚Äî 11% off! Perfect for sharing around the table.", action: () => addToCart("Family Takoyaki Pack (30 Balls)", 2400, 1, true, { content: "30√ó Classic Takoyaki" }) }, { badge: "19+ Only", title: "üé≤ Gamble Deal", desc: "Brave enough? Spin your luck and get 1‚Äì10 takoyaki at a completely random price.", action: () => gambleDeal() }, { badge: "Popular Set", title: "Combo Meal", desc: "Takoyaki + Drink + Dessert for ¬•1,200. The perfect izakaya experience in one set.", action: () => addToCart("Combo Meal (Takoyaki + Drink + Dessert)", 1200, 1, true, { content: "1√ó Takoyaki, 1√ó Drink, 1√ó Dessert" }) }, { badge: "5‚Äì7pm Only", title: "üç∫ Happy Hour Beer", desc: "Sapporo Beer for ¬•400 (normally ¬•600). Only available between 5pm and 7pm!", action: () => happyHourDeal() }, { badge: "Seasonal üå∏", title: "Sakura Mochi Ice Cream", desc: "Limited-time sakura mochi ice cream for ¬•350. Only while spring lasts!", action: () => addToCart("Sakura Mochi Ice Cream", 350, 1, false, {}) }, { badge: "50% Off", title: "üèØ Limited Keychain", desc: "Osaka Castle Keychain for just ¬•500 (normally ¬•1,000). While stocks last.", action: () => addToCart("Osaka Castle Keychain (Limited-Time)", 500, 1, false, {}) }, { badge: "Win Prizes", title: "üì∏ Social Media Contest", desc: "Post your meal, tag us online, and show staff for a chance to win a takoyaki plushie!", action: () => toast("Post your meal and show staff to enter! üì∏", 'info') }, { badge: "Members Only", title: "üéÅ Loyalty Reward", desc: "Buy 5 meals, get 1 free! Loyalty is tracked by your account. Log in to check progress.", action: () => loyaltyDeal() }]; function renderDeals() { document.getElementById('deals-grid').innerHTML = dealsData.map((d, i) => `<div class="deal-card"><span class="deal-badge">${d.badge}</span><div class="deal-title">${d.title}</div><div class="deal-desc">${d.desc}</div><button class="btn btn-outline btn-sm" onclick="window._deals[${i}]()">Claim Deal</button></div>`).join(''); window._deals = dealsData.map(d => d.action) } function gambleDeal() { if ((currentUser?.age || 0) < 19) { toast('Must be 19+ for the gamble deal', 'error'); return } if (!confirm('Are you sure you want to try your luck?')) return; const balls = Math.floor(Math.random() * 10) + 1, yen = Math.floor(Math.random() * 901) + 100; addToCart(`Gamble Deal (${balls} Takoyaki)`, yen, 1, true, { balls, price: yen }) } function happyHourDeal() { const h = new Date().getHours(); if (h >= 17 && h < 19) addToCart("Sapporo Beer (Happy Hour)", 400, 1, false, {}); else toast(`Happy Hour is 5‚Äì7pm (it's now ${h}:00)`, 'error') } function loyaltyDeal() { if (!currentUser?.email) { toast('Login required for loyalty program', 'error'); return } const count = orders.filter(o => o.email === currentUser.email).length; if (count >= 5) addToCart("Free Meal (Loyalty Reward)", 0, 1, true, {}); else toast(`${count}/5 orders. ${5 - count} more to go! üå∏`, 'info') } function renderMerch() { document.getElementById('merch-grid').innerHTML = merchandiseMenu.map(i => menuCard(i.name, i.price, i.emoji, i.desc)).join('') } function renderOrders() { const el = document.getElementById('orders-list'); if (!currentUser?.email) { el.innerHTML = '<div class="empty-state"><span class="empty-state-icon">üîë</span><div class="empty-state-text">Login to view your order history</div><div style="margin-top:16px"><button class="btn btn-primary btn-sm" onclick="openAuthModal()">Login ¬∑ Register</button></div></div>'; return } const myOrders = orders.filter(o => o.email === currentUser.email).reverse(); if (!myOrders.length) { el.innerHTML = '<div class="empty-state"><span class="empty-state-icon">üßæ</span><div class="empty-state-text">No orders yet. Time to eat! üç°</div></div>'; return } const statusClass = s => ({ 'Pending': 'status-pending', 'Preparing': 'status-preparing', 'Ready': 'status-ready', 'Completed': 'status-completed', 'Cancelled': 'status-cancelled', 'Cash On Delivery': 'status-cod' }[s] || 'status-pending'); el.innerHTML = myOrders.map(o => `<div class="order-card"><div class="order-card-header"><div><div class="order-code">${o.orderCode}</div><div class="order-date">${new Date(o.date).toLocaleDateString('en-GB', { day: 'numeric', month: 'long', year: 'numeric' })}</div></div><span class="order-status ${statusClass(o.status)}">${o.status}</span></div><div class="order-items-text">${o.items.map(i => `${i.quantity}√ó ${i.name}`).join(' ¬∑ ')}</div><div class="order-total-row"><span class="order-total-label">Total</span><span class="order-total-amt">¬•${o.total.toLocaleString()}</span></div></div>`).join('') } function renderAdminPanel() { const panel = document.getElementById('admin-panel'); if (!orders.length) { panel.innerHTML = '<div style="color:var(--ink-ghost);font-style:italic">No orders yet.</div>'; return } const statuses = ["Pending", "Preparing", "Ready", "Completed", "Cancelled", "Cash On Delivery"]; panel.innerHTML = `<div style="font-family:'Zen Kaku Gothic New',sans-serif;font-size:11px;letter-spacing:0.3em;text-transform:uppercase;color:#6e3050;margin-bottom:20px">All Orders (${orders.length})</div>${[...orders].reverse().map((o, ri) => { const i = orders.length - 1 - ri; return `<div class="admin-order-row"><div><div style="font-family:'Zen Old Mincho',serif;font-size:13px;color:var(--sakura-rich)">${o.orderCode}</div><div style="font-size:12px;color:var(--ink-muted);margin-top:2px">${o.customer}${o.email ? ` ¬∑ ${o.email}` : ''}</div><div style="font-size:12px;color:var(--ink-ghost);margin-top:3px;font-style:italic">${o.items.map(it => `${it.quantity}√ó ${it.name}`).join(' ¬∑ ')}</div></div><div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap"><select class="form-select" style="width:auto;padding:6px 10px;font-size:11px" onchange="adminSetStatus(${i},this.value)">${statuses.map(s => `<option value="${s}"${s === o.status ? ' selected' : ''}>${s}</option>`).join('')}</select><div style="font-family:'Zen Old Mincho',serif;font-size:14px;color:var(--sakura-rich);white-space:nowrap">¬•${o.total.toLocaleString()}</div><button class="btn btn-danger btn-sm" onclick="adminDelete(${i})">Delete</button></div></div>` }).join('')}` } function adminSetStatus(i, s) { orders[i].status = s; save(ORDERS_KEY, orders); toast(`Status updated ‚Üí ${s}`, 'success'); renderAdminPanel(); renderOrders() } function adminDelete(i) { if (!confirm('Delete this order?')) return; const code = orders[i].orderCode; orders.splice(i, 1); save(ORDERS_KEY, orders); toast(`Order ${code} deleted`, 'info'); renderAdminPanel(); renderOrders() } (function initPetals() { const canvas = document.getElementById('petal-canvas'), ctx = canvas.getContext('2d'), resize = () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight }; window.addEventListener('resize', resize); resize(); const COLORS = ['#f5c8d4', '#fce8ee', '#e8a0b4', '#f9d8e2', '#fae0ea'], N = 28; function makePetal() { return { x: Math.random() * window.innerWidth, y: -20 - Math.random() * 100, rx: 4 + Math.random() * 5, ry: 2 + Math.random() * 3, rot: Math.random() * Math.PI * 2, rotV: (Math.random() - 0.5) * 0.035, vy: 0.5 + Math.random() * 1.2, vx: (Math.random() - 0.5) * 0.7, sway: Math.random() * Math.PI * 2, swayS: 0.008 + Math.random() * 0.015, swayA: 18 + Math.random() * 22, color: COLORS[Math.floor(Math.random() * COLORS.length)], alpha: 0.4 + Math.random() * 0.45 } } const petals = Array.from({ length: N }, () => { const p = makePetal(); p.y = Math.random() * window.innerHeight; return p }); function draw(p) { ctx.save(); ctx.translate(p.x, p.y); ctx.rotate(p.rot); ctx.globalAlpha = p.alpha; ctx.fillStyle = p.color; for (let k = 0; k < 5; k++) { ctx.save(); ctx.rotate((k / 5) * Math.PI * 2); ctx.beginPath(); ctx.ellipse(0, -p.rx * 1.1, p.ry * 0.8, p.rx, 0, 0, Math.PI * 2); ctx.fill(); ctx.restore() } ctx.beginPath(); ctx.arc(0, 0, p.ry * 0.6, 0, Math.PI * 2); ctx.fillStyle = '#fce8ee'; ctx.fill(); ctx.restore() } (function loop() { ctx.clearRect(0, 0, canvas.width, canvas.height); for (const p of petals) { p.sway += p.swayS; p.x += p.vx + Math.sin(p.sway) * 0.4; p.y += p.vy; p.rot += p.rotV; draw(p); if (p.y > window.innerHeight + 30) Object.assign(p, makePetal()) } requestAnimationFrame(loop) })() })(); function initReveal() { const obs = new IntersectionObserver(entries => { entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('in'); obs.unobserve(e.target) } }) }, { threshold: 0.1 }); document.querySelectorAll('.reveal').forEach(el => obs.observe(el)) } window.addEventListener('scroll', () => { document.getElementById('main-nav').classList.toggle('scrolled', window.scrollY > 40) }); document.getElementById('nav-cart-btn').addEventListener('click', openCart); document.getElementById('cart-close-btn').addEventListener('click', closeCart); document.getElementById('cart-overlay').addEventListener('click', e => { if (e.target === e.currentTarget) closeCart() }); document.getElementById('checkout-modal').addEventListener('click', e => { if (e.target === e.currentTarget) closeModal('checkout-modal') }); document.getElementById('auth-modal').addEventListener('click', e => { if (e.target === e.currentTarget) closeModal('auth-modal') }); document.getElementById('cart-checkout-btn').addEventListener('click', () => { closeCart(); setTimeout(openCheckout, 400) }); document.getElementById('tab-login-btn').addEventListener('click', () => setAuthTab('login')); document.getElementById('tab-register-btn').addEventListener('click', () => setAuthTab('register')); document.getElementById('tab-guest-btn').addEventListener('click', () => setAuthTab('guest')); function init() { users = load(USERS_KEY); orders = load(ORDERS_KEY); currentUser = { name: 'Guest', age: 18, email: null }; renderAllMenus(); renderDeals(); renderMerch(); updateUserBar(); renderOrders(); initReveal() } window.addEventListener('DOMContentLoaded', init);
  </script>
</body>

</html>